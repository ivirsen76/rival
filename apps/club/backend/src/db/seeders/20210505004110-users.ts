import dayjs from '../../utils/dayjs';

const avatar1 = {
    avatar: `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABMCAMAAADugJGqAAAA81BMVEVMaXGnMAzgt338qBTmuI/gu4zZlFa2Lwb5qiKYJwShLQjw28/3rS/wsk3ZlB7Qr4qiKAS0LQT////cu5a9LwTWqpDfuJfvs1TqtGKOJAPbnlz4+Pioq619al4kLjTtuYr/pQB/UgDZjAAkJyrJNAahKQS+lG708vEeGBOrLAQuLSvWpn2+MQbgrYNYT0dHQDrntYdpY13x1sQ1Nzj+/PuCdWnmlQCtdxvGnHXPo3nov6zx5NyNIwO9RyBvWkfUfmSTZBKjaQCgfVjJQxe+ewDkoCf7ogDQYD7znQDYy7F+IAOmhmn4uUfjtF+xpqPu06GcTga0ZWnxAAAAH3RSTlMASWj+9DAN/v7+Idz1v/69cKKedcb+vqlQwY9Cvtqbgs8JQQAAAAlwSFlzAAALEwAACxMBAJqcGAAABCpJREFUWIXtlWt3ojoUhvFarVrrVHubOSeRcKlQLgJaBBVHR63a6fn//+asBFBAlNhvs9a8H4DsZD9r36IM81d/lq6fnlpf9y7nblttfrvdttut3PUXALnWKxFf7ZF3O3ch4DoARNW+KJLcla9J8H5dk6/c5QRvjZ9r2fECwy11Fj1fV6LjyYZleMG61+vR5tIKzk8sy7I6kwOg12vTEcp8KK/j9fi46Mpxuz9fTfjzPE9XjadqqN5kMlksFpPJhA9NT1SIqq+rBRfRIqTQEMrj8XhcfY36BxQe79D05Ho8Hl8Rn7XiGK4oukbRWxPD63g8pqlnblsl/o5luYaDZbiW5So4r0V1S1PPWx4DDMsojoS9Oo5oEUiVAvHtnuM4z3I7Qly2I7prjls8f89G1DjOsZwEgEAMy+O42jcahGN1hPlU1TTVlhUsG39P54JjeVQI0RD7iEgypwIAAMgDzfQtn5ZHgfhhiSpxN00JIaQNBtHlpyX+yJqMnPmpIq0/IOqbEvaTJH/d76vo0+r/m4FoYh+1HwgHgEPZr01kSv9kIIryDkkqlqapqopUezRAWrBSVRNNR50sBNBNU9M0zZQkU9NQH4AdMoOVpklIAMVMBDCRhPXyIkkSGgAgoHCFKyPTIFT0EgohGwBFihg0QIMQUOiC0FQHAEwjhh0VQh/gLrzghyqT0dL8xiAkDfRsxB0AQNmpZBzUnTwikgcEYk4FHNRdBoK5w3Eosi3YsqID2bZtWwaKPLLtETaAYiaBYRgQla5gv4goAAwux2llFcLX/TnEPUOj/MFhPsLP0fxgyTMXZjKf2rpuT+cX5sGQxu4ZqhohZDc0raCKcnExsUrxPu6llxhq5dMRlLX0lU+JQ7+IwDClowErXpCFr3IzFojeLDOXq3m4HbrS/AKAYZqyLJN/M/z+GuKe+PpS6O5GQt9rAOg6jkLXAahl/6EfqSTWouWsiRc15LFRX7KGaEQRhmiwy3rjkca/3KhAuGKXYhIhLtkVhJVGZnMfChBCOGR/HyN+s0O8V3g4CyjV8SH4zmKEG0W4GMG+k+36mbLkSQgQsixOJBqGIeJEWNbfL5y8Lc/+AThkWZbdRBmYsMFWkgqE8PlEDNDXCp9lZ64obkbk90YZbUTRnRHzKjiUGkepEA2Cnc028263O3t7m3W73flm5iPCMApp9ajDOKKbUBwB68eEh3APrgjjZxLxM0aA8Ki35TCNsBbpiH0tICwkZ6xxwA/PISJhNBKIymGLHGV/JRG/fPvhXCVOeITJKE4ghh//fYQHH0/lAd/PIYDruh+pmdQjiCCTJIIYlx+VQ93jfS3AozBSEf49Sy0GjCqY8LTJOvQU6zQCps1WcrKSiHJ8i2SSqCepZiwPCKP3JIEgBU0gEkNxjKjEtby5ubl5iwlbloljPuJ/QWpLbrprvSoAAAAASUVORK5CYII=`,
    avatarObject: JSON.stringify({
        topType: 'ShortHairShortRound',
        accessoriesType: 'Blank',
        hairColor: 'Auburn',
        facialHairType: 'Blank',
        clotheType: 'Hoodie',
        clotheColor: 'Black',
        eyeType: 'Default',
        eyebrowType: 'FlatNatural',
        mouthType: 'Smile',
        skinColor: 'Light',
        facialHairColor: 'BrownDark',
        id: '65-1620948089847',
    }),
};
const avatar2 = {
    avatar: `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABMCAMAAADugJGqAAAAq1BMVEVMaXGov9VRm8Lnzq3z1LDXzr3XzMD52LLv0q6Gtdvq0rO4xcz31rKhtLm9xstupsBVncRPnsllqMXfx6nfyKmKtMT/27RRmeR2q+Nlyf/vzqtas+P9/v7kxKFhwPRPnslioeRZTkNZrtpSo89UqNW9ys1duuzL0cz99OpvamSCcFzg07+jxNf/5Man0d98z/yj3f3Y6PGrmoj8T2zHq4zWuJecfGnjUGbXiH/XLzXKAAAAFnRSTlMA0ftn7RYt/bj9QYl5/mL5tXM3iYPO6eK88gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAsBJREFUWIXtlu12ojAQQKOCEPxqu7sZi0ShmiJoF7/t+z/ZHgjEBlASes7+6v1FILnOjBkIQj/8oI3Zdxyn3355zzYIxx620Zi2la/PLdqSoSwghFhDzRBIDbaOwSCEbDZhyP5yGAs3lpbjD8Zvs9n7fP6aM39/n83e8GiganheLFclxXw+m72tlosXRUW3UOy4INntkjSK1XLxpGZ4WRQKL3lNdntvn/BEVstFVzWPBVfsvJRdUtQiVTwrKZ4KReJ5e57LTaGWSVckUvpHUsXk+4quisHkCoy3W8bCDMa2WzxVV7xMRizdikTqknSwYaPJxFRQONmS0yUOgtjl6930+nLKrh1FBY3jE3VdWsSQXp/imCoqhoSQ+FDXqYeYEDJUa1KSJ1Amu200VcPOZ3+sPW/9QepGTS1v5Gu8fRTtvY+6kdGgsPi0tXcIgpG3LkajIDgUI0tVwaIovCnCKGKaikf8B4XRrGgqZ0/+QZohh9ZrUKCeFAc9n89nKsXQaEAIyXG4rtyxCgL0uBxNheDcPoauQNxS+6D1RNDBPnuHe14kklGpBPqSSRBEGUGglwdCv4oFhyBHvD5+KyqQCONyPR6Px+tFNwiE+iL1z+vxeP0UxdE46fRqW8VSrOV9h54BIaeywQyVd7eMfOKzdA5aAvvWHZbbyoBsSinf3pTSlgqXCtpGQdJWT9E7L947vtoqX/Qb4w5mdfuC4c4YKWB2pgAwrdud2YNOo6HjQ0ZYNTD+xH8scTCfBuBvyoZNLgfAD7ptIGZVHTcDgD9QMUApl1B6ds8xkA0ArFKHBke/bADYFoZt5ZFfVw9cmSYcVQMArho6NdMAcGqokwNU/luzmgZ3WFa9AXxTKQgA8O+4q2FMQZupbBjrGwDGank8Qs4EQwvwd0sBpWL4bRS+pIBWSBurneJrn/S/rzCnreCKf7oZ1Ly4lsTFAAAAAElFTkSuQmCC`,
    avatarObject: JSON.stringify({
        topType: 'LongHairStraightStrand',
        hairColor: 'BrownDark',
        accessoriesType: 'Sunglasses',
        facialHairType: 'BeardLight',
        facialHairColor: 'Platinum',
        clotheType: 'ShirtCrewNeck',
        clotheColor: 'Red',
        eyeType: 'Surprised',
        eyebrowType: 'UpDown',
        mouthType: 'Twinkle',
        skinColor: 'Light',
        id: '35-1620948332401',
    }),
};

const currentDate = dayjs.tz().format('YYYY-MM-DD HH:mm:ss');

import { QueryInterface } from 'sequelize';

export const up = async ({ context: queryInterface }: { context: QueryInterface }) => {
    await queryInterface.bulkInsert(
        'users',
        [
            {
                id: 1,
                email: 'player1@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Ben',
                lastName: 'Done',
                slug: 'ben-done',
                phone: '1234567890',
                personalInfo: 'Some info about me',
                roles: 'player',
                subscribeForProposals: 1,
                gender: 'male',
                changelogSeenAt: currentDate,
                ...avatar1,
                information: JSON.stringify({
                    history: { name: [{ value: 'Paul Pusher', date: '2020-12-12 00:00:00' }] },
                    subscribeForProposals: { onlyNotPlaying: false },
                }),
                isPhoneVerified: 1,
                birthday: '2000-01-01',
            },
            {
                id: 2,
                email: 'player2@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Gary',
                lastName: 'Mill',
                slug: 'gary-mill',
                phone: '7607273334',
                roles: 'player',
                subscribeForProposals: 1,
                gender: 'male',
                changelogSeenAt: currentDate,
                ...avatar2,
                isPhoneVerified: 1,
                birthday: '2000-01-02',
            },
            {
                id: 3,
                email: 'manager@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Bob',
                lastName: 'Manager',
                slug: 'bob-manager',
                roles: 'player,manager',
                subscribeForProposals: 0,
                gender: 'male',
                changelogSeenAt: currentDate,
                ...avatar1,
                isPhoneVerified: 1,
                birthday: '2000-01-03',
            },
            {
                id: 4,
                email: 'admin@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Bob',
                lastName: 'Robe',
                slug: 'bob-robe',
                roles: 'admin',
                subscribeForProposals: 0,
                gender: 'male',
                changelogSeenAt: currentDate,
                ...avatar2,
                isPhoneVerified: 1,
                birthday: '2000-01-04',
            },
            {
                id: 5,
                email: 'player3@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Cristopher',
                lastName: 'Hamiltonbeach',
                slug: 'cristopher-hamiltonbeach',
                phone: '2062271435',
                roles: 'player',
                subscribeForProposals: 0,
                gender: 'male',
                changelogSeenAt: currentDate,
                ...avatar1,
                isPhoneVerified: 1,
                birthday: '2000-01-05',
            },
            {
                id: 6,
                email: 'player4@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Matthew',
                lastName: 'Burt',
                slug: 'matthew-burt',
                phone: '9203919530',
                roles: 'player',
                subscribeForProposals: 0,
                gender: 'male',
                changelogSeenAt: currentDate,
                isPhoneVerified: 1,
                birthday: '2000-01-06',
            },
            {
                id: 7,
                email: 'player5@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Inactive',
                lastName: 'User',
                slug: 'inactive-user',
                phone: '9203919531',
                roles: 'player',
                subscribeForProposals: 1,
                gender: 'female',
                changelogSeenAt: currentDate,
                isPhoneVerified: 1,
                birthday: '2000-01-07',
            },
            {
                id: 8,
                email: 'player8@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Not Played',
                lastName: 'User',
                slug: 'not-played-user',
                phone: '9203919532',
                roles: 'player',
                subscribeForProposals: 1,
                gender: 'female',
                changelogSeenAt: currentDate,
                isPhoneVerified: 1,
                birthday: '2000-01-08',
            },
            {
                id: 9,
                email: 'player9@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Doubles',
                lastName: 'Player',
                slug: 'doubles-player',
                phone: '9203919533',
                roles: 'player',
                subscribeForProposals: 1,
                gender: 'female',
                createdAt: dayjs.tz().subtract(10, 'day').format('YYYY-MM-DD HH:mm:ss'),
                changelogSeenAt: currentDate,
                isPhoneVerified: 1,
                birthday: '2000-01-09',
            },
            {
                id: 10,
                email: 'playerDuplicated@gmail.com',
                password: 'oldpassword',
                firstName: 'Doubles',
                lastName: 'Player1',
                slug: 'doubles-player1',
                phone: '1234567894',
                roles: 'player',
                subscribeForProposals: 1,
                gender: 'male',
                createdAt: dayjs.tz().subtract(20, 'day').format('YYYY-MM-DD HH:mm:ss'),
                changelogSeenAt: currentDate,
                isPhoneVerified: 1,
                birthday: '2000-01-10',
            },
            {
                id: 11,
                email: 'superadmin@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Super',
                lastName: 'Admin',
                slug: 'super-admin',
                roles: 'admin,superadmin',
                subscribeForProposals: 0,
                gender: 'male',
                changelogSeenAt: currentDate,
                ...avatar2,
                isPhoneVerified: 1,
                birthday: '2000-01-11',
            },
            {
                id: 12,
                email: 'partner@gmail.com',
                password: '$2a$10$AzAuGMmM6nFAAm9pX8mbKOKnYHxppQ35Vdao2qfQEFIPqqCCJdE/2',
                firstName: 'Our',
                lastName: 'Partner',
                slug: 'our-partner',
                roles: 'partner',
                subscribeForProposals: 0,
                gender: 'male',
                changelogSeenAt: currentDate,
                information: JSON.stringify({ partnerName: 'Durham University' }),
                ...avatar2,
                isPhoneVerified: 1,
                refPercent: 40,
                refYears: 4,
                refStartedAt: '2020-12-12 00:00:00',
                birthday: '2000-01-12',
            },
        ],
        {}
    );

    // Make onlyNotPlaying=false for everybody, otherwise it breaks tests on some days
    const filter = JSON.stringify({ subscribeForProposals: { onlyNotPlaying: false } });
    await queryInterface.sequelize.query(`UPDATE users SET information='${filter}' WHERE information IS NULL`);
};

export const down = async ({ context: queryInterface }: { context: QueryInterface }) => {
    await queryInterface.bulkDelete('users', {}, {});
};
